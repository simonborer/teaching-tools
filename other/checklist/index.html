<!-- 
	Haven't quite decided what to do with this yet. Just threw it together in codepen one day and found it tremendously handy. Likely have it served with HTML pages on validation. 
	It would be extremely cool if the assignments page in hugo, the console.assert script, and this guy were all pulling from the same source.
 -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://raw.githubusercontent.com/xz/new.css/master/new.css">
    <style>body {font-family: sans-serif;}label {display: inline-block;margin-right: .5rem;}input[type="radio"] {margin-right: .25rem;}.container {max-width: 40rem;margin: 0 auto;line-height: 1.8;}.extra {margin-left: 1rem;line-height: 1.2;}.not-yet {color: grey;}</style>
</head>

<body>
    <button id="reset">Reset</button>
    <div class="container">
        <div id="container"></div>
        <hr>
        <div id="values" contenteditable="true"></div>
    </div>
    <script>var requirements = [
  "Submit one html file, and one css file, zipped in a folder.",
  "Make sure all your HTML and CSS is valid according to the W3C.",
  "All your HTML must be semantically correct.",
  "Your CSS must be coded mobile-first.",
  {
    "Your page should include the following:": [
      "A header image",
      "A page title with a different font-family than the body font.",
      "In-page navigation",
      "Three or more sections of content (with section titles where appropriate).",
      "Enough content that the page extends past the bottom of the viewport.",
      'A "back to top" button that remains in the bottom-right of the viewport that returns the user to the top of the page.',
      "At least two images in the page content, at least one floated to the right, and at least one floated to the left.",
      "Appropriate padding/margin around elements to make things pleasant to read.",
      "A different colour scheme on desktop and mobile.",
      "One word in the body content, not contained in a link, that changes style when hovered over."
    ]
  },
  "Add a bit of personal style."
];

var group = function (name, req, divClass = "", baseVal = 1) {
  var halfVal = baseVal / 2;
  var str = '<div id="' + name + '" class="radio-group ' +
    divClass +
    '"><label><input type="radio" name="' +
    name +
    '" value="' +
    baseVal +
    '">☑</label><label><input type="radio" name="' +
    name +
    '" value="' +
    halfVal +
    '">½</label><label><input type="radio" name="' +
    name +
    '" value="0">☒</label>&nbsp;<span class="description">' +
    req +
    "</span></div>";
  return str;
};

var nme = function (str, ind) {
  return str.substr(0, str.indexOf(" ")) + ind;
};

var container = document.getElementById("container");
requirements.forEach((req, index) => {
  if (typeof req === "object") {
    var keys = Object.keys(req);
    keys.forEach((key) => {
      container.innerHTML += "<div class='title'>" + key + "</div>";
      req[key].forEach((val, index) => {
        var nm = nme(val, index);
        container.innerHTML += group(nm, val, "extra", 0.5);
      });
    });
  } else {
    var nm = nme(req, index);
    container.innerHTML += group(nm, req);
  }
});

const input = document.querySelectorAll("input");
const log = document.getElementById("values");

for (let i = 0; i < input.length; i++) {
  input[i].addEventListener("input", updateValue);
}
var radioGroupsArr = [];
var radio = document.querySelectorAll('input[type="radio"]');
radio.forEach((rad) => {
  radioGroupsArr.push(rad.getAttribute("name"));
});
var radioGroups = [...new Set(radioGroupsArr)];
function updateValue(e) {
  let runningTotal = 0;
  radioGroups.forEach((rad) => {
    var targ = document.querySelector('input[name="' + rad + '"]:checked');
    if (targ !== null) {
      runningTotal += parseFloat(targ.value);
    }
  });
  log.textContent = runningTotal + " / 10";
  if (runningTotal === 10) {
   log.innerHTML += "<br>Perfect." 
  } else if (runningTotal >= 9) {
    log.innerHTML += "<br>Amazing work!"
  } else if (runningTotal >= 8) {
    log.innerHTML += "<br>Terrific work!"
  } else if (runningTotal >= 7) {
    log.innerHTML += "<br>Good work!"
  }
  radioGroups.forEach(rad => {
        var targ = document.querySelector('input[name="' + rad + '"]:checked');
    if (targ !== null) {
      log.innerHTML += "<br>" + targ.parentElement.textContent + "&nbsp;" + document.getElementById(rad).querySelector(".description").textContent;
    } else {
      log.innerHTML += "<br><span class='not-yet'>?&nbsp;&nbsp;&nbsp;" + document.getElementById(rad).querySelector(".description").textContent + "</span>";
    }
  });
}

const button = document.getElementById("reset");
button.addEventListener('click', event => {
var ele = document.querySelectorAll("input[type='radio']");
   for(var i=0;i<ele.length;i++) {
      ele[i].checked = false;
   }
  document.getElementById("values").innerHTML = "";
});</script>
</body>

</html>